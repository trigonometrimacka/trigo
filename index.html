<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AÃ§Ä±yla YÃ¼kseklik Ã–lÃ§er ğŸ“</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');
  body {
    font-family: "Poppins", sans-serif;
    background: linear-gradient(135deg, #012E40, #026773);
    color: #F2E3D5;
    text-align: center;
    padding: 2rem;
    min-height: 100vh;
  }
  h2 {
    color: #3CA6A6;
    font-size: 2rem;
    margin-bottom: 1rem;
  }
  p.desc {
    color: #F2E3D5;
    background: rgba(60,166,166,0.1);
    padding: 1rem;
    border-radius: 12px;
    max-width: 480px;
    margin: 0 auto 1.5rem auto;
    font-size: 0.95rem;
    line-height: 1.5;
  }
  .control-box {
    background: rgba(255,255,255,0.08);
    border-radius: 14px;
    display: inline-block;
    padding: 1rem 2rem;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
  }
  label {
    font-weight: 600;
  }
  input, select {
    border: none;
    border-radius: 8px;
    padding: 0.5rem;
    font-size: 1rem;
    margin: 0.5rem;
    text-align: center;
  }
  button {
    background-color: #3CA6A6;
    color: #012E40;
    border: none;
    border-radius: 10px;
    padding: 0.6rem 1.2rem;
    font-size: 1rem;
    margin-top: 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
  }
  button:hover {
    background-color: #F2E3D5;
    color: #012E40;
    transform: scale(1.05);
  }
  .data-box {
    background-color: rgba(242, 227, 213, 0.12);
    border: 1px solid #3CA6A6;
    border-radius: 12px;
    display: inline-block;
    margin-top: 1.5rem;
    padding: 1rem 2rem;
    transition: all 0.3s ease;
  }
  .data-box:hover {
    transform: scale(1.03);
    box-shadow: 0 0 15px rgba(60,166,166,0.3);
  }
  .value {
    font-weight: bold;
    color: #3CA6A6;
    font-size: 1.2rem;
  }
  footer {
    margin-top: 2rem;
    font-size: 0.8rem;
    color: rgba(242,227,213,0.7);
  }
</style>
</head>
<body>
  <h2>AÃ§Ä±yla YÃ¼kseklik Ã–lÃ§er ğŸ“</h2>
  <p class="desc">
    Bu uygulama, telefonun eÄŸim sensÃ¶rÃ¼nÃ¼ kullanarak bir cismin yÃ¼ksekliÄŸini hesaplar.<br><br>
    ğŸ“ <b>NasÄ±l Ã§alÄ±ÅŸÄ±r?</b><br>
    1ï¸âƒ£ Cisme belli bir mesafeden dur.<br>
    2ï¸âƒ£ Telefonu yere paralel tut ve cismin tepesine doÄŸrult.<br>
    3ï¸âƒ£ AÅŸaÄŸÄ±dan mesafeni gir, birimini seÃ§ ve â€œÄ°zin Ver & BaÅŸlatâ€ butonuna tÄ±kla.<br><br>
    Uygulama, eÄŸim aÃ§Ä±sÄ±nÄ± alÄ±r ve <b>tan(Î¸) Ã— mesafe</b> formÃ¼lÃ¼yle yÃ¼ksekliÄŸi hesaplar.
  </p>

  <div class="control-box">
    <label>Mesafe:</label>
    <input id="d" value="2" type="number" step="0.1">
    <select id="unit">
      <option value="m">metre</option>
      <option value="cm">santimetre</option>
      <option value="mm">milimetre</option>
    </select><br>
    <button id="startBtn">Ä°zin Ver & BaÅŸlat</button>
  </div>

  <div class="data-box">
    <p>Telefon AÃ§Ä±sÄ±: <span id="pitch" class="value">â€”</span>Â°</p>
    <p>Hesaplanan YÃ¼kseklik: <span id="h" class="value">â€”</span></p>
  </div>

  <footer>Â© 2025 | Trigonometrinin GÃ¼nlÃ¼k Hayattaki KullanÄ±mÄ±</footer>

<script>
const pitchEl = document.getElementById("pitch");
const heightEl = document.getElementById("h");
const startBtn = document.getElementById("startBtn");

function toRad(deg) { return deg * Math.PI / 180; }

function handleOrientation(e) {
  let pitch = e.beta || 0;
  let distance = parseFloat(document.getElementById("d").value) || 1;
  let unit = document.getElementById("unit").value;

  pitchEl.innerText = pitch.toFixed(1);

  // Hesaplama (yÃ¼kseklik = tan(aÃ§Ä±) * mesafe)
  let height = Math.tan(toRad(pitch)) * distance;

  // Birim dÃ¶nÃ¼ÅŸÃ¼mÃ¼
  let label = "";
  if (unit === "cm") {
    height *= 100; label = " cm";
  } else if (unit === "mm") {
    height *= 1000; label = " mm";
  } else {
    label = " m";
  }

  heightEl.innerText = height.toFixed(2) + label;
}

async function startMeasurement() {
  if (location.protocol !== "https:" && location.hostname !== "localhost") {
    alert("âš ï¸ UyarÄ±: SensÃ¶r verileri yalnÄ±zca HTTPS baÄŸlantÄ±sÄ±nda gÃ¼venilir Ã§alÄ±ÅŸÄ±r.\n\nLÃ¼tfen dosyayÄ± gÃ¼venli bir sitede aÃ§.");
  }

  if (typeof DeviceOrientationEvent.requestPermission === "function") {
    try {
      const response = await DeviceOrientationEvent.requestPermission();
      if (response === "granted") {
        window.addEventListener("deviceorientation", handleOrientation);
        startBtn.innerText = "Ã–lÃ§Ã¼m Aktif âœ…";
        startBtn.disabled = true;
      } else {
        alert("SensÃ¶r izni reddedildi!");
      }
    } catch (err) {
      alert("SensÃ¶r eriÅŸimi baÅŸarÄ±sÄ±z: " + err);
    }
  } else {
    window.addEventListener("deviceorientation", handleOrientation);
    startBtn.innerText = "Ã–lÃ§Ã¼m Aktif âœ…";
    startBtn.disabled = true;
  }
}

startBtn.addEventListener("click", startMeasurement);
</script>
</body>
</html>
