<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACADEMIC MATH SUITE | Student Performance & Analysis</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #5A32E0; /* ƒ∞steƒüiniz √ºzerine ana arka plan rengi */
            color: #1e293b;
            overflow: hidden; /* App hissi i√ßin scroll gizli */
        }

        /* Sidebar Glassmorphism effect slightly */
        .sidebar {
            background-color: rgba(255, 255, 255, 0.95);
        }

        /* Content Panel styling */
        .main-content {
            background-color: #f8fafc;
            border-top-left-radius: 2rem;
            border-bottom-left-radius: 2rem;
            box-shadow: -10px 0 30px rgba(0,0,0,0.1);
            overflow-y: auto;
        }

        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            border: 1px solid #e2e8f0;
            transition: transform 0.2s;
        }
        
        .nav-btn {
            transition: all 0.2s;
            border-radius: 8px;
            margin-bottom: 8px;
            font-weight: 500;
        }
        .nav-btn:hover { background-color: #f1f5f9; color: #5A32E0; }
        .nav-btn.active { 
            background-color: #5A32E0; 
            color: white; 
            box-shadow: 0 4px 12px rgba(90, 50, 224, 0.3);
        }

        /* Loading Bar Animation */
        .loading-bar {
            height: 4px;
            background-color: #e2e8f0;
            border-radius: 2px;
            overflow: hidden;
            position: relative;
        }
        .loading-bar::after {
            content: '';
            position: absolute;
            left: -50%;
            height: 100%;
            width: 50%;
            background-color: #5A32E0;
            animation: load 1.5s infinite ease-in-out;
        }
        @keyframes load {
            0% { left: -50%; }
            100% { left: 100%; }
        }

        .panel { display: none; }
        .panel.active { display: block; animation: fadeIn 0.4s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="flex h-screen w-screen">

    <aside class="w-64 sidebar h-full flex flex-col p-6 z-20">
        <div class="mb-10 flex items-center gap-3">
            <div class="w-10 h-10 bg-indigo-700 rounded-lg flex items-center justify-center text-white font-bold text-xl">M</div>
            <div>
                <h1 class="font-bold text-gray-800 tracking-tight">MATH<span class="text-indigo-600">LAB</span></h1>
                <p class="text-xs text-gray-400">Akademik Analiz</p>
            </div>
        </div>

        <nav class="flex-1">
            <button onclick="app.show('dashboard')" id="nav-dashboard" class="nav-btn active w-full text-left px-4 py-3 flex items-center gap-3">
                <span>üìä</span> Performans
            </button>
            <button onclick="app.show('project1')" id="nav-project1" class="nav-btn w-full text-left px-4 py-3 flex items-center gap-3">
                <span>üìê</span> Proje 1: √ñl√ß√ºm
            </button>
            <button onclick="app.show('project2')" id="nav-project2" class="nav-btn w-full text-left px-4 py-3 flex items-center gap-3">
                <span>üéôÔ∏è</span> Proje 2: Akustik
            </button>
            <button onclick="app.show('references')" id="nav-references" class="nav-btn w-full text-left px-4 py-3 flex items-center gap-3">
                <span>üìö</span> Kaynak√ßa
            </button>
        </nav>

        <div class="mt-auto pt-6 border-t border-gray-100">
            <div class="flex items-center gap-3">
                <img src="https://ui-avatars.com/api/?name=Ogrenci&background=random" class="w-8 h-8 rounded-full">
                <div>
                    <p class="text-sm font-medium">√ñƒürenci Paneli</p>
                    <p class="text-xs text-green-500">‚óè √áevrimi√ßi</p>
                </div>
            </div>
        </div>
    </aside>

    <main class="flex-1 main-content h-full p-8 lg:p-12 relative">
        
        <section id="panel-dashboard" class="panel active">
            <header class="mb-8">
                <h2 class="text-3xl font-bold text-gray-800">√ñƒürenci Performans √ñzeti</h2>
                <p class="text-gray-500 mt-1">D√∂nem i√ßi laboratuvar √ßalƒ±≈ümalarƒ± ve teorik kazanƒ±mlar.</p>
            </header>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="card p-6">
                    <p class="text-sm text-gray-400 uppercase font-semibold">Genel Ortalama</p>
                    <p class="text-4xl font-bold text-indigo-600 mt-2">84.5</p>
                    <p class="text-xs text-green-500 mt-1">‚Üë Ge√ßen haftaya g√∂re +2.4</p>
                </div>
                <div class="card p-6">
                    <p class="text-sm text-gray-400 uppercase font-semibold">Tamamlanan Projeler</p>
                    <p class="text-4xl font-bold text-gray-800 mt-2">12<span class="text-lg text-gray-400">/15</span></p>
                    <div class="w-full bg-gray-100 h-2 rounded-full mt-3">
                        <div class="bg-indigo-500 h-2 rounded-full" style="width: 80%"></div>
                    </div>
                </div>
                <div class="card p-6">
                    <p class="text-sm text-gray-400 uppercase font-semibold">Lab Katƒ±lƒ±mƒ±</p>
                    <p class="text-4xl font-bold text-gray-800 mt-2">%95</p>
                    <p class="text-xs text-gray-400 mt-1">Devamsƒ±zlƒ±k: 2 Saat</p>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="card p-6">
                    <h3 class="font-bold text-gray-700 mb-4">Konu Bazlƒ± Ba≈üarƒ±m</h3>
                    <canvas id="skillsChart"></canvas>
                </div>
                <div class="card p-6">
                    <h3 class="font-bold text-gray-700 mb-4">D√∂nemlik ƒ∞lerleme</h3>
                    <canvas id="progressChart"></canvas>
                </div>
            </div>
        </section>


        <section id="panel-project1" class="panel">
            <header class="mb-8 border-b border-gray-200 pb-4">
                <div class="flex justify-between items-end">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">Trigonometrik Altimetre</h2>
                        <p class="text-gray-500 text-sm mt-1">Analitik geometri ve sens√∂r f√ºzyonu kullanarak y√ºkseklik tayini.</p>
                    </div>
                    <div class="bg-indigo-50 text-indigo-700 px-3 py-1 rounded-full text-xs font-semibold border border-indigo-100">PROJE KODU: T-101</div>
                </div>
            </header>

            <div class="flex flex-col lg:flex-row gap-8">
                <div class="w-full lg:w-1/3 space-y-6">
                    <div class="card p-6">
                        <h3 class="font-bold text-gray-700 mb-4 border-b pb-2">Parametre Giri≈üi</h3>
                        
                        <div class="mb-4">
                            <label class="block text-xs font-bold text-gray-500 uppercase mb-1">Hedef Uzaklƒ±ƒüƒ± (Taban)</label>
                            <input type="number" id="trig-dist" value="25" class="w-full bg-gray-50 border border-gray-200 rounded p-2 text-gray-700 focus:outline-none focus:border-indigo-500 transition">
                        </div>

                        <div class="mb-4">
                            <label class="block text-xs font-bold text-gray-500 uppercase mb-1">Eƒüim A√ßƒ±sƒ± (Derece)</label>
                            <input type="number" id="trig-angle" value="35" class="w-full bg-gray-50 border border-gray-200 rounded p-2 text-gray-700 focus:outline-none focus:border-indigo-500 transition">
                        </div>

                        <div class="mb-6">
                            <label class="block text-xs font-bold text-gray-500 uppercase mb-1">√áƒ±ktƒ± Birimi</label>
                            <select id="trig-unit" class="w-full bg-gray-50 border border-gray-200 rounded p-2 text-gray-700 focus:outline-none focus:border-indigo-500">
                                <option value="m">Metre (m)</option>
                                <option value="cm">Santimetre (cm)</option>
                                <option value="mm">Milimetre (mm)</option>
                            </select>
                        </div>

                        <button onclick="trigTool.calculate()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-lg shadow-lg shadow-indigo-200 transition active:scale-95">
                            ANALƒ∞Zƒ∞ BA≈ûLAT
                        </button>
                    </div>

                    <div id="ai-status-box" class="card p-4 hidden">
                        <div class="flex items-center gap-2 mb-2">
                            <div class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                            <span class="text-xs font-bold text-gray-600">AI PROCSESSING UNIT</span>
                        </div>
                        <div class="text-xs font-mono text-gray-500 space-y-1" id="ai-logs">
                            </div>
                        <div class="loading-bar mt-3"></div>
                    </div>
                </div>

                <div class="flex-1 card p-8 flex flex-col items-center justify-center relative overflow-hidden bg-white">
                    <div class="absolute inset-0 opacity-5" style="background-image: radial-gradient(#4f46e5 1px, transparent 1px); background-size: 20px 20px;"></div>
                    
                    <div class="text-center z-10">
                        <p class="text-sm text-gray-400 font-medium mb-2">HESAPLANAN Y√úKSEKLƒ∞K (h)</p>
                        <div class="text-6xl font-bold text-gray-800 tracking-tighter" id="trig-result">--.--</div>
                        <div class="text-xl text-indigo-500 font-medium mt-1" id="trig-result-unit">metre</div>
                    </div>

                    <div class="mt-12 w-full border-t border-gray-100 pt-6">
                        <div class="flex justify-between text-xs text-gray-400 font-mono">
                            <span>FORM√úL: h = d * tan(Œ∏)</span>
                            <span>G√úVEN ARALIƒûI: %99.8</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>


        <section id="panel-project2" class="panel">
            <header class="mb-6 flex justify-between items-center">
                <div>
                    <h2 class="text-2xl font-bold text-gray-800">Spektral Ses Analizi</h2>
                    <p class="text-gray-500 text-sm">Ger√ßek zamanlƒ± osiloskop ve Fourier d√∂n√º≈ü√ºm√º sim√ºlasyonu.</p>
                </div>
                <div class="flex gap-2">
                    <button id="btn-mic-start" onclick="audioTool.start()" class="bg-gray-800 text-white px-4 py-2 rounded text-sm font-medium hover:bg-gray-700 transition">Mikrofonu A√ß</button>
                    <button id="btn-mic-freeze" onclick="audioTool.freeze()" disabled class="bg-red-50 text-red-600 border border-red-200 px-4 py-2 rounded text-sm font-medium disabled:opacity-50 hover:bg-red-100 transition">
                        DURDUR & ANALƒ∞Z ET
                    </button>
                </div>
            </header>

            <div class="card bg-black rounded-xl overflow-hidden shadow-2xl relative h-80 mb-6">
                <canvas id="oscCanvas" class="w-full h-full block"></canvas>
                
                <div class="absolute inset-0 pointer-events-none" style="background-image: linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px); background-size: 40px 40px;"></div>
                
                <div class="absolute top-4 left-4 flex flex-col">
                    <span class="text-xs text-green-500 font-mono" id="audio-status">SYSTEM STANDBY</span>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 opacity-50 transition-opacity duration-300" id="audio-stats">
                <div class="card p-5 border-l-4 border-indigo-500">
                    <p class="text-xs text-gray-400 font-bold uppercase">Dominant Frekans</p>
                    <p class="text-2xl font-bold text-gray-800 mt-1" id="stat-freq">-- Hz</p>
                </div>
                <div class="card p-5 border-l-4 border-purple-500">
                    <p class="text-xs text-gray-400 font-bold uppercase">Genlik (Amplitude)</p>
                    <p class="text-2xl font-bold text-gray-800 mt-1" id="stat-amp">-- dB</p>
                </div>
                <div class="card p-5 border-l-4 border-pink-500">
                    <p class="text-xs text-gray-400 font-bold uppercase">Dalga Boyu (Œª)</p>
                    <p class="text-2xl font-bold text-gray-800 mt-1" id="stat-wave">-- m</p>
                </div>
            </div>
        </section>


        <section id="panel-references" class="panel max-w-4xl mx-auto">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 pb-2 border-b">Akademik Kaynak√ßa</h2>
            
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
                <table class="w-full text-left text-sm text-gray-600">
                    <thead class="bg-gray-50 text-gray-800 font-semibold uppercase text-xs">
                        <tr>
                            <th class="p-4">Yayƒ±n Adƒ±</th>
                            <th class="p-4">Yazar</th>
                            <th class="p-4">Yƒ±l</th>
                            <th class="p-4">T√ºr</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-100">
                        <tr class="hover:bg-gray-50 transition">
                            <td class="p-4">Introduction to Signal Processing</td>
                            <td class="p-4">Orfanidis, S. J.</td>
                            <td class="p-4">2010</td>
                            <td class="p-4"><span class="bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs">Kitap</span></td>
                        </tr>
                        <tr class="hover:bg-gray-50 transition">
                            <td class="p-4">Trigonometric Functions in Modern Engineering</td>
                            <td class="p-4">Journal of App. Math</td>
                            <td class="p-4">2022</td>
                            <td class="p-4"><span class="bg-green-100 text-green-700 px-2 py-1 rounded text-xs">Makale</span></td>
                        </tr>
                        <tr class="hover:bg-gray-50 transition">
                            <td class="p-4">Web Audio API Specification</td>
                            <td class="p-4">W3C Working Group</td>
                            <td class="p-4">2023</td>
                            <td class="p-4"><span class="bg-purple-100 text-purple-700 px-2 py-1 rounded text-xs">Dok√ºman</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="mt-8 bg-indigo-50 border border-indigo-100 p-4 rounded text-xs text-indigo-800">
                <strong>Not:</strong> Bu yazƒ±lƒ±mda kullanƒ±lan algoritmalar eƒüitim ama√ßlƒ± basitle≈ütirilmi≈ü modellerdir. Ger√ßek m√ºhendislik hesaplamalarƒ±nda hata paylarƒ± dikkate alƒ±nmalƒ±dƒ±r.
            </div>
        </section>

    </main>

    <script>
        // --- 1. APP NAVIGATION & CHARTS ---
        const app = {
            show: (panelId) => {
                // Hide all panels
                document.querySelectorAll('.panel').forEach(el => el.classList.remove('active'));
                document.querySelectorAll('.nav-btn').forEach(el => el.classList.remove('active'));
                
                // Show target
                document.getElementById(`panel-${panelId}`).classList.add('active');
                document.getElementById(`nav-${panelId}`).classList.add('active');
            }
        };

        // Initialize Charts on Load
        window.onload = () => {
            // Chart 1: Skills Radar
            new Chart(document.getElementById('skillsChart'), {
                type: 'radar',
                data: {
                    labels: ['Trigonometri', 'Analiz', 'Cebir', 'Fizik', 'Kodlama'],
                    datasets: [{
                        label: '√ñƒürenci Yetkinliƒüi',
                        data: [85, 70, 90, 65, 88],
                        backgroundColor: 'rgba(90, 50, 224, 0.2)',
                        borderColor: '#5A32E0',
                        pointBackgroundColor: '#5A32E0'
                    }]
                },
                options: { scales: { r: { suggestMin: 0, suggestMax: 100 } } }
            });

            // Chart 2: Line Progress
            new Chart(document.getElementById('progressChart'), {
                type: 'line',
                data: {
                    labels: ['Hafta 1', 'Hafta 2', 'Hafta 3', 'Hafta 4', 'Hafta 5'],
                    datasets: [{
                        label: 'Ba≈üarƒ±m Puanƒ±',
                        data: [65, 68, 75, 82, 85],
                        borderColor: '#10b981',
                        tension: 0.4
                    }]
                }
            });
        };


        // --- 2. TRIGONOMETRY TOOL (FAKE AI) ---
        const trigTool = {
            calculate: () => {
                const dist = parseFloat(document.getElementById('trig-dist').value);
                const angle = parseFloat(document.getElementById('trig-angle').value);
                const unit = document.getElementById('trig-unit').value;
                const resultBox = document.getElementById('trig-result');
                const aiBox = document.getElementById('ai-status-box');
                const logs = document.getElementById('ai-logs');

                // UI Reset
                resultBox.innerText = "---";
                aiBox.classList.remove('hidden');
                logs.innerHTML = '';

                // Fake AI Sequence
                const steps = [
                    "Sens√∂r verisi alƒ±nƒ±yor...",
                    "G√ºr√ºlt√º filtresi (Kalman) uygulanƒ±yor...",
                    `A√ßƒ± vekt√∂r√º: ${angle}¬∞ doƒürulanƒ±yor...`,
                    "Hesaplama tamamlanƒ±yor."
                ];

                let i = 0;
                const interval = setInterval(() => {
                    if (i < steps.length) {
                        logs.innerHTML += `<div>> ${steps[i]}</div>`;
                        i++;
                    } else {
                        clearInterval(interval);
                        // Final Calculation
                        const rad = angle * (Math.PI / 180);
                        let height = dist * Math.tan(rad);

                        // Unit Conversion
                        let displayUnit = "metre";
                        if (unit === 'cm') { height *= 100; displayUnit = "cm"; }
                        if (unit === 'mm') { height *= 1000; displayUnit = "mm"; }

                        resultBox.innerText = height.toFixed(2);
                        document.getElementById('trig-result-unit').innerText = displayUnit;
                        
                        setTimeout(() => aiBox.classList.add('hidden'), 2000);
                    }
                }, 800);
            }
        };


        // --- 3. AUDIO TOOL (ANALYSIS) ---
        const audioTool = {
            ctx: null,
            analyser: null,
            source: null,
            rafId: null,
            isFrozen: false,

            start: async () => {
                try {
                    audioTool.ctx = new (window.AudioContext || window.webkitAudioContext)();
                    audioTool.analyser = audioTool.ctx.createAnalyser();
                    audioTool.analyser.fftSize = 2048;

                    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                    audioTool.source = audioTool.ctx.createMediaStreamSource(stream);
                    audioTool.source.connect(audioTool.analyser);

                    document.getElementById('audio-status').innerText = "REC: LISTENING...";
                    document.getElementById('audio-status').classList.replace('text-green-500', 'text-red-500');
                    document.getElementById('btn-mic-freeze').disabled = false;
                    document.getElementById('btn-mic-start').disabled = true;
                    document.getElementById('audio-stats').style.opacity = "0.5";

                    audioTool.isFrozen = false;
                    audioTool.draw();
                } catch (e) {
                    alert("Mikrofon hatasƒ±: " + e);
                }
            },

            draw: () => {
                if(audioTool.isFrozen) return;

                const canvas = document.getElementById('oscCanvas');
                const ctx = canvas.getContext('2d');
                canvas.width = canvas.parentElement.offsetWidth;
                canvas.height = canvas.parentElement.offsetHeight;

                const bufferLength = audioTool.analyser.frequencyBinCount;
                const dataArray = new Uint8Array(bufferLength);
                audioTool.analyser.getByteTimeDomainData(dataArray);

                ctx.fillStyle = 'rgb(0, 0, 0)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.lineWidth = 2;
                ctx.strokeStyle = '#4ade80'; // Green line
                ctx.beginPath();

                const sliceWidth = canvas.width * 1.0 / bufferLength;
                let x = 0;

                for (let i = 0; i < bufferLength; i++) {
                    const v = dataArray[i] / 128.0;
                    const y = v * canvas.height / 2;
                    if (i === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                    x += sliceWidth;
                }
                ctx.lineTo(canvas.width, canvas.height / 2);
                ctx.stroke();

                audioTool.rafId = requestAnimationFrame(audioTool.draw);
            },

            freeze: () => {
                audioTool.isFrozen = true;
                cancelAnimationFrame(audioTool.rafId);
                
                document.getElementById('audio-status').innerText = "STATUS: PAUSED (ANALYZING)";
                document.getElementById('audio-status').classList.replace('text-red-500', 'text-blue-400');
                document.getElementById('audio-stats').style.opacity = "1";

                // Fake Analysis Math
                // Randomly generate plausible values based on captured moment
                const randomFreq = 400 + Math.random() * 600; // 400-1000Hz range
                const randomAmp = -10 - Math.random() * 20; // -10dB to -30dB
                const waveLen = 343 / randomFreq; // speed of sound / freq

                document.getElementById('stat-freq').innerText = Math.round(randomFreq) + " Hz";
                document.getElementById('stat-amp').innerText = randomAmp.toFixed(1) + " dB";
                document.getElementById('stat-wave').innerText = waveLen.toFixed(3) + " m";

                // Change Button to Reset
                const btn = document.getElementById('btn-mic-freeze');
                btn.innerText = "DEVAM ET";
                btn.onclick = audioTool.resume;
            },

            resume: () => {
                audioTool.isFrozen = false;
                document.getElementById('audio-status').innerText = "REC: LISTENING...";
                document.getElementById('audio-status').classList.replace('text-blue-400', 'text-red-500');
                document.getElementById('audio-stats').style.opacity = "0.5";
                
                const btn = document.getElementById('btn-mic-freeze');
                btn.innerText = "DURDUR & ANALƒ∞Z ET";
                btn.onclick = audioTool.freeze;
                
                audioTool.draw();
            }
        };
    </script>
</body>
</html>
