<h1>ğŸ”Š Pro Osiloskop ve Trigonometrik Analiz ğŸš€</h1>

    <div class="panel" style="max-width: 1250px; margin-left: auto; margin-right: auto;">
        
        <button class="accordion">Bu Site Ne Ä°ÅŸe Yarar? (Ã–zet)</button>
        <div class="accordion-panel">
            <p>Bu araÃ§, sesinizi profesyonel bir osiloskop gibi analiz etmenizi saÄŸlar. Sesi sadece canlÄ± gÃ¶stermekle kalmaz, 'Yakala' butonuna bastÄ±ÄŸÄ±nÄ±zda sesin bÃ¼yÃ¼k bir parÃ§asÄ±nÄ± (yaklaÅŸÄ±k 186 milisaniye) hafÄ±zaya alÄ±r. Bu yakalanan ses Ã¼zerinde **ileri-geri sarma** yaparak gezinebilir ve tÄ±kladÄ±ÄŸÄ±nÄ±z noktanÄ±n eÄŸimini (yani `tan(Î¸)` deÄŸerini) anÄ±nda hesaplayabilirsiniz.</p>
        </div>

        <button class="accordion">NasÄ±l KullanÄ±lÄ±r? (AdÄ±m AdÄ±m)</button>
        <div class="accordion-panel">
            <ol>
                <li><strong>Gereklilik:</strong> Bu sayfanÄ±n `http://localhost` veya `https://` adresinden aÃ§Ä±ldÄ±ÄŸÄ±ndan emin olun (Ã–rn: VS Code + Live Server).</li>
                <li><strong>BaÅŸlat:</strong> 'ğŸ™ï¸ Mikrofonu BaÅŸlat' butonuna basÄ±n. TarayÄ±cÄ± sizden **mikrofon izni** isteyecektir. Ä°zin verin.</li>
                <li><strong>Ä°zle:</strong> 'CanlÄ± AkÄ±ÅŸ' ekranÄ±nda sesi izleyin. 'CanlÄ± Dalga DetayÄ±' kaydÄ±racÄ± ile canlÄ± akÄ±ÅŸÄ±n hÄ±zÄ±nÄ±/detayÄ±nÄ± ayarlayÄ±n.</li>
                <li><strong>Yakala:</strong> 'ğŸ“¸ AnlÄ±k Ses Yakala' butonuna basÄ±n. O anki ses, "Analiz EkranÄ±"na aktarÄ±lacaktÄ±r.</li>
                <li><strong>Geri/Ä°leri Sar:</strong> 'Analiz EkranÄ±' altÄ±ndaki 'Yakalanan Sesi KaydÄ±r' kaydÄ±racÄ± ile hafÄ±zaya alÄ±nan sesin iÃ§inde gezinin.</li>
                <li><strong>Analiz Et:</strong> SarÄ± dalga Ã¼zerinde bir noktaya tÄ±klayÄ±n.</li>
                <li><strong>Hesapla:</strong> En alttaki panelde o noktanÄ±n eÄŸim (AkÄ±ÅŸ HÄ±zÄ±), aÃ§Ä± ve trigonometrik ($\sin$, $\cos$, $\tan$) deÄŸerlerini gÃ¶rÃ¼n.</li>
                <li><strong>Referans Ekle:</strong> 'Analiz EkranÄ±'ndaki 'Referans SinÃ¼s DalgasÄ±' kontrolleri ile kendi dalganÄ±zÄ± oluÅŸturup yakaladÄ±ÄŸÄ±nÄ±z sesle karÅŸÄ±laÅŸtÄ±rÄ±n.</li>
            </ol>
        </div>

        <button class="accordion">Trigonometri Bu Ä°ÅŸin Neresinde?</button>
        <div class="accordion-panel">
            <p>EÄŸim, hÄ±z demektir. Sesin eÄŸimi, sesin o anda ne kadar hÄ±zlÄ± deÄŸiÅŸtiÄŸini gÃ¶sterir. Trigonometride ise eÄŸim, **Tanjant (tan)** demektir.</p>
            <p style="font-family: 'Consolas', monospace; font-size: 1.2em; text-align: center; color: var(--ana-renk);">
                EÄŸim (m) = tan(Î¸)
            </p>
            <p>AyrÄ±ca, eklediÄŸiniz 'Referans SinÃ¼s DalgasÄ±'nÄ±n frekansÄ±nÄ± ($f$) siz belirlersiniz. Biz de o dalganÄ±n **Periyodunu ($T$)** hesaplarÄ±z. Ã‡Ã¼nkÃ¼ aralarÄ±nda doÄŸrudan trigonometrik bir iliÅŸki vardÄ±r: $T = 1/f$.</p>
        </div>
    </div>


    <div class="kontrol-paneli">
        <button id="startStopButton">ğŸ™ï¸ Mikrofonu BaÅŸlat</button>
        <button id="captureButton" disabled>ğŸ“¸ AnlÄ±k Ses Yakala (Analiz Et)</button>
    </div>

    <div class="layout-container">
        <div class="panel">
            <h2>CanlÄ± AkÄ±ÅŸ</h2>
            <div class="osiloskop-bilgi" id="liveInfo">Detay: 2048</div>
            <canvas id="liveCanvas"></canvas>
            <div class="slider-grup">
                <label for="fftSlider">CanlÄ± Dalga DetayÄ± (FFT Boyutu)</label>
                <input type="range" id="fftSlider" min="0" max="5" value="2">
                <div class="slider-etiket-konteyner">
                    <span>HÄ±zlÄ± / Az Detay</span>
                    <span>YavaÅŸ / Ã‡ok Detay</span>
                </div>
            </div>
        </div>

        <div class="panel">
            <h2>Analiz EkranÄ±</h2>
            <div class="osiloskop-bilgi" id="analysisInfo">Toplam Yakalanan SÃ¼re: --- ms</div>
            <canvas id="analysisCanvas"></canvas>
            
            <div class="slider-grup">
                <label for="scrollSlider">Yakalanan Sesi KaydÄ±r (Ä°leri/Geri Sar)</label>
                <input type="range" id="scrollSlider" min="0" max="1000" value="0">
            </div>

            <div class="slider-grup">
                <label>
                    <input type="checkbox" id="showRefWave"> Referans SinÃ¼s DalgasÄ±nÄ± GÃ¶ster
                </label>
                <div style="display: flex; gap: 20px; margin-top: 10px;">
                    <div style="flex-basis: 50%;">
                        <label for="freqSlider">Frekans (DÃ¶ngÃ¼ SayÄ±sÄ±)</label>
                        <input type="range" id="freqSlider" min="1" max="50" value="5">
                    </div>
                    <div style="flex-basis: 50%;">
                        <label for="ampSlider">Genlik (YÃ¼ksekik)</label>
                        <input type="range" id="ampSlider" min="0" max="1" value="0.5" step="0.01">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="panel" id="trigPanel" style="max-width: 1250px; margin-left: auto; margin-right: auto;">
        <div style="display: flex; flex-wrap: wrap; gap: 20px;">
            <div style="flex: 1; min-width: 300px;">
                <h3>ğŸ“‰ Noktasal AkÄ±ÅŸ HÄ±zÄ± (EÄŸim)</h3>
                <pre id="analysisData">
TÄ±kladÄ±ÄŸÄ±n Nokta:
  Zaman (t): ---
  Genlik (y): ---

Nokta EÄŸim (TeÄŸet) Bilgileri:
  EÄŸim (m) - **AKIÅ HIZI**: ---
  AÃ§Ä± (Î¸) [Radyan]: ---
  AÃ§Ä± (Î¸) [Derece]: ---

Trigonometrik DeÄŸerler:
  tan(Î¸) = EÄŸim (m)
  sin(Î¸) = ---
  cos(Î¸) = ---
  cot(Î¸) = ---
                </pre>
            </div>
            <div style="flex: 1; min-width: 300px;">
                <h3>ğŸ§® Referans Dalga Bilgisi</h3>
                <pre id="refWaveData">
Ayarlar:
  Frekans (f): --- (DÃ¶ngÃ¼/Ekran)
  Genlik (A): ---

Hesaplamalar:
  Periyot (T): --- (Ekran GeniÅŸliÄŸi / f)
  Dalga Denklemi:
    y(t) = A * sin(2 * Ï€ * f * t)
                </pre>
            </div>
        </div>
    </div>
